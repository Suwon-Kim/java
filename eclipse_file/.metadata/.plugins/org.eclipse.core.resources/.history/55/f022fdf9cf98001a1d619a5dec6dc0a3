import java.awt.BorderLayout;
import java.awt.Font;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;

import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenuItem;
import javax.swing.JPopupMenu;

public class Test4 extends JFrame {
	private JPopupMenu pMenu;
	private JLabel lblMain;
	private JMenuItem miApple;
	private JMenuItem miBanana;
	private JMenuItem miKiwi;
	
	public Test4() {
		lblMain = new JLabel("Start", JLabel.CENTER);
		lblMain.setFont(new Font(Font.SERIF, Font.BOLD, 40));
		
		pMenu = new JPopupMenu();
		
		miApple = new JMenuItem("Apple");
		miBanana = new JMenuItem("Banana");
		miKiwi = new JMenuItem("Kiwi");
		
		pMenu.add(miApple);
		pMenu.addSeparator();
		pMenu.add(miBanana);
		pMenu.addSeparator();
		pMenu.add(miKiwi);
		
		add(lblMain, BorderLayout.CENTER);
		
		MouseListener listener = new MouseAdapter() {
			@Override
			public void mousePressed(MouseEvent me) {
				showPopup(me);
			}
		};
		lblMain.addMouseListener(listener);
		
		setTitle("PopupMenuEx");
		setSize(400,300);
		setLocation(100,0);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
		setVisible(true);
	}
	public void showPopup(MouseEvent me) {
		if(me.isPopupTrigger()) {
			pMenu.show(lblMain, me.getX(), me.getY());
		}
	}

	public static void main(String[] args) {
		new Test4();
	}
}
